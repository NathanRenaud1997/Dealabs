{% extends 'my_account/index.html.twig' %}

{% block title %}Deals publiés{% endblock %}

{% block body %}
    {{ parent() }}
    <div class="container" style="margin-top: 15px">
        <div class="row">
            {% for bonPlan in bonPlans %}
                <div class="col-sm-10" style="margin-bottom: 10px">
                    <div class="card">
                        <div style="display: flex; align-items: center">
                            <p style="margin-right: 10px;"><img src="{{ asset('img/'~ bonPlan.apercu) }}"
                                                                style="width: 150px; height: 150px; margin: auto">
                            </p>
                            <div style="width: 100%">
                                <div style="color: red; font-weight: bold">{{ bonPlan.note }}°</div>
                                <p><strong>{{ bonPlan.title }}</strong></p>
                                <p style="margin-top: 15px"><strong style="color: red">{{ bonPlan.prix }}€</strong>
                                    <s>{{ bonPlan.prixHabituel }}€</s> -30%</p>
                                <p style="height: 3rem; overflow: hidden">{{ bonPlan.description }}</p>
                                <div style="display: flex; justify-content: space-between">
                                    <p><strong>{{ bonPlan.UserCrea.username }}</strong></p>
                                    <div style="display: flex; align-items: center;">
                                        <p>{{ bonPlan.commentaires.count }} commentaire(s)</p>
                                        <a href="{{ path('bon_plan_details', { 'id': bonPlan.id }) }}"
                                           class="btn btn-info" style="margin: 0 10px 10px 5px;">Voir le deal</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="container" style="margin-top: 15px">
        <div class="row">
            {% for codePromo in codePromos %}
                <div class="col-sm-10" style="margin-bottom: 10px">
                    <div class="card">
                        <div style="display: flex; align-items: center">
                            <p style="margin-right: 10px;"><img src="{{ asset('img/'~ codePromo.apercu) }}"
                                                                style="width: 150px; height: 150px; margin: auto">
                            </p>
                            <div style="width: 100%">
                                <div style="color: red; font-weight: bold">{{ codePromo.note }}°</div>
                                <p><strong>{{ codePromo.title }}</strong></p>
                                <p style="margin-top: 15px">Codes promo <strong style="color: #0dcaf0">{{ codePromo.partenaire.name }}
                                    </strong></p>

                                <div style="display: flex; justify-content: stretch;">
                                    <a href="#"
                                       class="btn btn-info" style="margin: 0 10px 10px 5px; width: 50%;">Profiter du code</a>
                                    <a href="#"
                                       class="btn btn-outline-info" style="margin: 0 10px 10px 5px; width: 50%; border-style: dashed; color: black; border-color: black;">{{ codePromo.codePromo }}</a>
                                </div>


                                <p style="height: 3rem; overflow: hidden">{{ codePromo.description }}</p>
                                <div style="display: flex; justify-content: space-between">
                                    <p><strong>{{ codePromo.UserCrea.username }}</strong></p>
                                    <div style="display: flex; align-items: center;">
                                        <p>{{ codePromo.commentaires.count }} commentaire(s)</p>
                                        <a href="{{ path('code_promo_details', { 'id': codePromo.id }) }}"
                                           class="btn btn-info" style="margin: 0 10px 10px 5px;">Afficher plus</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
